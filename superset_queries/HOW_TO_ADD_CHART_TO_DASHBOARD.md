# Как добавить Chart в Dashboard

## Проблема: "Не могу добавить к дашборду"

Это означает, что Dashboard еще не создан. В Superset нужно сначала создать Dashboard, а потом добавлять в него Charts.

## Решение: 2 способа

### Способ 1: Создать Dashboard при сохранении Chart (РЕКОМЕНДУЕТСЯ)

1. **Создайте Chart** (если еще не создан):
   - SQL Lab → выполните запрос → **Explore**
   - Настройте визуализацию → **Save**

2. **При сохранении Chart**:
   - В форме сохранения найдите поле **"Add to Dashboard"**
   - Выберите **"+ Add to new dashboard"**
   - Введите название: **"Анализ паблишеров"**
   - Нажмите **"Save"**

   ✅ Dashboard создастся автоматически с вашим Chart!

### Способ 2: Создать Dashboard отдельно, потом добавить Chart

#### Шаг 1: Создайте Dashboard

1. **Откройте Superset**: http://localhost:8088
2. **Dashboards** → **"+ Dashboard"** (кнопка в правом верхнем углу)
3. **Название**: "Анализ паблишеров"
4. **Описание** (опционально): "Анализ коэффициентов паблишеров по форматам"
5. Нажмите **"Save"**

#### Шаг 2: Добавьте Chart в Dashboard

1. **Откройте созданный Dashboard**
2. Нажмите **"Edit Dashboard"** (кнопка в правом верхнем углу)
3. Нажмите **"+ Chart"** (кнопка в левом верхнем углу)
4. **Выберите Chart** из списка (например, "Коэффициенты паблишеров - Таблица")
5. **Chart появится на Dashboard** - перетащите его в нужное место
6. Нажмите **"Save"**

## Альтернативный способ: Добавить Chart через меню Chart

1. **Откройте Chart** (Charts → выберите ваш Chart)
2. Нажмите **"Edit"** (или откройте Chart)
3. В правом верхнем углу нажмите **"..."** (три точки)
4. Выберите **"Add to Dashboard"**
5. Выберите существующий Dashboard или создайте новый

## Проверка: Есть ли у вас Dashboard?

Выполните команду для проверки:

```bash
docker exec ubidex_analysis python scripts/check_superset_objects.py
```

Или проверьте вручную:
- **Dashboards** → посмотрите список Dashboard
- Если список пустой → создайте новый Dashboard

## Частые проблемы

### Проблема: "Add to Dashboard" не работает
**Решение**: Убедитесь, что Chart сохранен. Несохраненные Chart нельзя добавить в Dashboard.

### Проблема: Не вижу кнопку "+ Dashboard"
**Решение**: 
- Убедитесь, что вы авторизованы как admin
- Проверьте права доступа
- Попробуйте обновить страницу

### Проблема: Chart не отображается на Dashboard
**Решение**:
- Убедитесь, что Dashboard в режиме редактирования (Edit Dashboard)
- Проверьте, что Chart добавлен в список Charts на Dashboard
- Попробуйте перетащить Chart в другое место

## Быстрый способ (если Chart уже создан)

1. **Charts** → откройте ваш Chart
2. **"..."** (три точки) → **"Add to Dashboard"**
3. Выберите **"+ New Dashboard"**
4. Название: "Анализ паблишеров"
5. **Save**

✅ Готово!

